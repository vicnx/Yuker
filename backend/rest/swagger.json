{
    "swagger": "2.0",
    "info": {
      "description": "Yuker API",
      "version": "1.0.0",
      "title": "Yuker API",
      "contact": {
        "name": "Vicente",
        "url": "https://github.com/vicnx"
      },
      "license": {
        "name": "MIT License",
        "url": "https://opensource.org/licenses/MIT"
      }
    },
    "host": "localhost:3000",
    "basePath": "/api",
    "schemes": [
      "http"
    ],
    "produces": [
      "application/json"
    ],
    "consumes": [
      "application/json"
    ],
    "securityDefinitions": {
      "Token": {
        "description": "For accessing the protected API resources, you must have received a a valid JWT token after registering or logging in. This JWT token must then be used for all protected resources by passing it in via the 'Authorization' header.\n\nA JWT token is generated by the API by either registering via /users or logging in via /users/login.\n\nThe following format must be in the 'Authorization' header :\n\n    Token: xxxxxx.yyyyyyy.zzzzzz\n    \n",
        "type": "apiKey",
        "name": "Authorization",
        "in": "header"
      }
    },
    "paths": {
      "/users/login": {
        "post": {
          "summary": "Existing user login",
          "description": "Login for existing user",
          "tags": [
            "User and Authentication"
          ],
          "operationId": "Login",
          "parameters": [
            {
              "name": "body",
              "in": "body",
              "required": true,
              "description": "Credentials to use",
              "schema": {
                "$ref": "#/definitions/LoginUserRequest"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "OK",
              "schema": {
                "$ref": "#/definitions/UserResponse"
              }
            },
            "401": {
              "description": "Unauthorized"
            },
            "422": {
              "description": "Unexpected error",
              "schema": {
                "$ref": "#/definitions/GenericErrorModel"
              }
            }
          }
        }
      },
      "/users": {
        "post": {
          "summary": "Register a new user",
          "description": "Register a new user",
          "tags": [
            "User and Authentication"
          ],
          "operationId": "CreateUser",
          "parameters": [
            {
              "name": "body",
              "in": "body",
              "required": true,
              "description": "Details of the new user to register",
              "schema": {
                "$ref": "#/definitions/NewUserRequest"
              }
            }
          ],
          "responses": {
            "201": {
              "description": "OK",
              "schema": {
                "$ref": "#/definitions/UserResponse"
              }
            },
            "422": {
              "description": "Unexpected error",
              "schema": {
                "$ref": "#/definitions/GenericErrorModel"
              }
            }
          }
        },
        "get": {
          "summary": "Get current user",
          "description": "Gets the currently logged-in user",
          "tags": [
            "User and Authentication"
          ],
          "security": [
            {
              "Token": []
            }
          ],
          "operationId": "GetCurrentUser",
          "responses": {
            "200": {
              "description": "OK",
              "schema": {
                "$ref": "#/definitions/UserResponse"
              }
            },
            "401": {
              "description": "Unauthorized"
            },
            "422": {
              "description": "Unexpected error",
              "schema": {
                "$ref": "#/definitions/GenericErrorModel"
              }
            }
          }
        },
        "put": {
          "summary": "Update current user",
          "description": "Updated user information for current user",
          "tags": [
            "User and Authentication"
          ],
          "security": [
            {
              "Token": []
            }
          ],
          "operationId": "UpdateCurrentUser",
          "parameters": [
            {
              "name": "body",
              "in": "body",
              "required": true,
              "description": "User details to update. At least **one** field is required.",
              "schema": {
                "$ref": "#/definitions/UpdateUserRequest"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "OK",
              "schema": {
                "$ref": "#/definitions/UserResponse"
              }
            },
            "401": {
              "description": "Unauthorized"
            },
            "422": {
              "description": "Unexpected error",
              "schema": {
                "$ref": "#/definitions/GenericErrorModel"
              }
            }
          }
        }
      },
      "/profiles/{username}": {
        "get": {
          "summary": "Get a profile",
          "description": "Get a profile of a user of the system. Auth is optional",
          "tags": [
            "Profile"
          ],
          "operationId": "GetProfileByUsername",
          "parameters": [
            {
              "name": "username",
              "in": "path",
              "description": "Username of the profile to get",
              "required": true,
              "type": "string"
            }
          ],
          "responses": {
            "200": {
              "description": "OK",
              "schema": {
                "$ref": "#/definitions/ProfileResponse"
              }
            },
            "401": {
              "description": "Unauthorized"
            },
            "422": {
              "description": "Unexpected error",
              "schema": {
                "$ref": "#/definitions/GenericErrorModel"
              }
            }
          }
        }
      },
      "/profiles/{username}/follow": {
        "post": {
          "summary": "Follow a user",
          "description": "Follow a user by username",
          "tags": [
            "Profile"
          ],
          "security": [
            {
              "Token": []
            }
          ],
          "operationId": "FollowUserByUsername",
          "parameters": [
            {
              "name": "username",
              "in": "path",
              "description": "Username of the profile you want to follow",
              "required": true,
              "type": "string"
            }
          ],
          "responses": {
            "200": {
              "description": "OK",
              "schema": {
                "$ref": "#/definitions/ProfileResponse"
              }
            },
            "401": {
              "description": "Unauthorized"
            },
            "422": {
              "description": "Unexpected error",
              "schema": {
                "$ref": "#/definitions/GenericErrorModel"
              }
            }
          }
        },
        "delete": {
          "summary": "Unfollow a user",
          "description": "Unfollow a user by username",
          "tags": [
            "Profile"
          ],
          "security": [
            {
              "Token": []
            }
          ],
          "operationId": "UnfollowUserByUsername",
          "parameters": [
            {
              "name": "username",
              "in": "path",
              "description": "Username of the profile you want to unfollow",
              "required": true,
              "type": "string"
            }
          ],
          "responses": {
            "200": {
              "description": "OK",
              "schema": {
                "$ref": "#/definitions/ProfileResponse"
              }
            },
            "401": {
              "description": "Unauthorized"
            },
            "422": {
              "description": "Unexpected error",
              "schema": {
                "$ref": "#/definitions/GenericErrorModel"
              }
            }
          }
        }
      },
      "/yuks/feed": {
        "get": {
          "summary": "Get recent yuks from users you follow",
          "description": "Get most recent yuks from users you follow. Use query parameters to limit. Auth is required",
          "tags": [
            "Yuks"
          ],
          "security": [
            {
              "Token": []
            }
          ],
          "operationId": "GetyuksFeed",
          "parameters": [
            {
              "name": "limit",
              "in": "query",
              "description": "Limit number of yuks returned (default is 20)",
              "required": false,
              "default": 20,
              "type": "integer"
            },
            {
              "name": "offset",
              "in": "query",
              "description": "Offset/skip number of yuks (default is 0)",
              "required": false,
              "default": 0,
              "type": "integer"
            }
          ],
          "responses": {
            "200": {
              "description": "OK",
              "schema": {
                "$ref": "#/definitions/MultipleyuksResponse"
              }
            },
            "401": {
              "description": "Unauthorized"
            },
            "422": {
              "description": "Unexpected error",
              "schema": {
                "$ref": "#/definitions/GenericErrorModel"
              }
            }
          }
        }
      },
      "/yuks": {
        "get": {
          "summary": "Get recent yuks globally",
          "description": "Get most recent yuks globally. Use query parameters to filter results. Auth is optional",
          "tags": [
            "yuks"
          ],
          "operationId": "Getyuks",
          "parameters": [
            {
              "name": "tag",
              "in": "query",
              "description": "Filter by tag",
              "required": false,
              "type": "string"
            },
            {
              "name": "author",
              "in": "query",
              "description": "Filter by author (username)",
              "required": false,
              "type": "string"
            },
            {
              "name": "favorited",
              "in": "query",
              "description": "Filter by favorites of a user (username)",
              "required": false,
              "type": "string"
            },
            {
              "name": "limit",
              "in": "query",
              "description": "Limit number of yuks returned (default is 20)",
              "required": false,
              "default": 20,
              "type": "integer"
            },
            {
              "name": "offset",
              "in": "query",
              "description": "Offset/skip number of yuks (default is 0)",
              "required": false,
              "default": 0,
              "type": "integer"
            }
          ],
          "responses": {
            "200": {
              "description": "OK",
              "schema": {
                "$ref": "#/definitions/MultipleyuksResponse"
              }
            },
            "401": {
              "description": "Unauthorized"
            },
            "422": {
              "description": "Unexpected error",
              "schema": {
                "$ref": "#/definitions/GenericErrorModel"
              }
            }
          }
        },
        "post": {
          "summary": "Create an yuk",
          "description": "Create an yuk. Auth is required",
          "tags": [
            "yuks"
          ],
          "security": [
            {
              "Token": []
            }
          ],
          "operationId": "Createyuk",
          "parameters": [
            {
              "name": "yuk",
              "in": "body",
              "required": true,
              "description": "yuk to create",
              "schema": {
                "$ref": "#/definitions/NewYukRequest"
              }
            }
          ],
          "responses": {
            "201": {
              "description": "OK",
              "schema": {
                "$ref": "#/definitions/SingleyukResponse"
              }
            },
            "401": {
              "description": "Unauthorized"
            },
            "422": {
              "description": "Unexpected error",
              "schema": {
                "$ref": "#/definitions/GenericErrorModel"
              }
            }
          }
        }
      },
      "/yuks/{slug}": {
        "get": {
          "summary": "Get an yuk",
          "description": "Get an yuk. Auth not required",
          "tags": [
            "yuks"
          ],
          "operationId": "Getyuk",
          "parameters": [
            {
              "name": "slug",
              "in": "path",
              "required": true,
              "description": "Slug of the yuk to get",
              "type": "string"
            }
          ],
          "responses": {
            "200": {
              "description": "OK",
              "schema": {
                "$ref": "#/definitions/SingleyukResponse"
              }
            },
            "422": {
              "description": "Unexpected error",
              "schema": {
                "$ref": "#/definitions/GenericErrorModel"
              }
            }
          }
        },
        "put": {
          "summary": "Update an yuk",
          "description": "Update an yuk. Auth is required",
          "tags": [
            "yuks"
          ],
          "security": [
            {
              "Token": []
            }
          ],
          "operationId": "Updateyuk",
          "parameters": [
            {
              "name": "slug",
              "in": "path",
              "required": true,
              "description": "Slug of the yuk to update",
              "type": "string"
            },
            {
              "name": "yuk",
              "in": "body",
              "required": true,
              "description": "yuk to update",
              "schema": {
                "$ref": "#/definitions/UpdateYuk"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "OK",
              "schema": {
                "$ref": "#/definitions/SingleyukResponse"
              }
            },
            "401": {
              "description": "Unauthorized"
            },
            "422": {
              "description": "Unexpected error",
              "schema": {
                "$ref": "#/definitions/GenericErrorModel"
              }
            }
          }
        },
        "delete": {
          "summary": "Delete an yuk",
          "description": "Delete an yuk. Auth is required",
          "tags": [
            "yuks"
          ],
          "security": [
            {
              "Token": []
            }
          ],
          "operationId": "Deleteyuk",
          "parameters": [
            {
              "name": "slug",
              "in": "path",
              "required": true,
              "description": "Slug of the yuk to delete",
              "type": "string"
            }
          ],
          "responses": {
            "200": {
              "description": "OK"
            },
            "401": {
              "description": "Unauthorized"
            },
            "422": {
              "description": "Unexpected error",
              "schema": {
                "$ref": "#/definitions/GenericErrorModel"
              }
            }
          }
        }
      },
      "/yuks/{slug}/comments": {
        "get": {
          "summary": "Get comments for an yuk",
          "description": "Get the comments for an yuk. Auth is optional",
          "tags": [
            "Comments"
          ],
          "operationId": "GetyukComments",
          "parameters": [
            {
              "name": "slug",
              "in": "path",
              "required": true,
              "description": "Slug of the yuk that you want to get comments for",
              "type": "string"
            }
          ],
          "responses": {
            "200": {
              "description": "OK",
              "schema": {
                "$ref": "#/definitions/MultipleCommentsResponse"
              }
            },
            "401": {
              "description": "Unauthorized"
            },
            "422": {
              "description": "Unexpected error",
              "schema": {
                "$ref": "#/definitions/GenericErrorModel"
              }
            }
          }
        },
        "post": {
          "summary": "Create a comment for an yuk",
          "description": "Create a comment for an yuk. Auth is required",
          "tags": [
            "Comments"
          ],
          "security": [
            {
              "Token": []
            }
          ],
          "operationId": "CreateyukComment",
          "parameters": [
            {
              "name": "slug",
              "in": "path",
              "required": true,
              "description": "Slug of the yuk that you want to create a comment for",
              "type": "string"
            },
            {
              "name": "comment",
              "in": "body",
              "required": true,
              "description": "Comment you want to create",
              "schema": {
                "$ref": "#/definitions/NewCommentRequest"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "OK",
              "schema": {
                "$ref": "#/definitions/SingleCommentResponse"
              }
            },
            "401": {
              "description": "Unauthorized"
            },
            "422": {
              "description": "Unexpected error",
              "schema": {
                "$ref": "#/definitions/GenericErrorModel"
              }
            }
          }
        }
      },
      "/yuks/{slug}/comments/{id}": {
        "delete": {
          "summary": "Delete a comment for an yuk",
          "description": "Delete a comment for an yuk. Auth is required",
          "tags": [
            "Comments"
          ],
          "security": [
            {
              "Token": []
            }
          ],
          "operationId": "DeleteyukComment",
          "parameters": [
            {
              "name": "slug",
              "in": "path",
              "required": true,
              "description": "Slug of the yuk that you want to delete a comment for",
              "type": "string"
            },
            {
              "name": "id",
              "in": "path",
              "required": true,
              "description": "ID of the comment you want to delete",
              "type": "integer"
            }
          ],
          "responses": {
            "200": {
              "description": "OK"
            },
            "401": {
              "description": "Unauthorized"
            },
            "422": {
              "description": "Unexpected error",
              "schema": {
                "$ref": "#/definitions/GenericErrorModel"
              }
            }
          }
        }
      },
      "/yuks/{slug}/like": {
        "post": {
          "summary": "Like an yuk",
          "description": "Like an yuk. Auth is required",
          "tags": [
            "Likes"
          ],
          "security": [
            {
              "Token": []
            }
          ],
          "operationId": "CreateyukLike",
          "parameters": [
            {
              "name": "slug",
              "in": "path",
              "required": true,
              "description": "Slug of the yuk that you want to like",
              "type": "string"
            }
          ],
          "responses": {
            "200": {
              "description": "OK",
              "schema": {
                "$ref": "#/definitions/SingleyukResponse"
              }
            },
            "401": {
              "description": "Unauthorized"
            },
            "422": {
              "description": "Unexpected error",
              "schema": {
                "$ref": "#/definitions/GenericErrorModel"
              }
            }
          }
        },
        "delete": {
          "summary": "Unlike an yuk",
          "description": "Unlike an yuk. Auth is required",
          "tags": [
            "Likes"
          ],
          "security": [
            {
              "Token": []
            }
          ],
          "operationId": "DeleteyukFavorite",
          "parameters": [
            {
              "name": "slug",
              "in": "path",
              "required": true,
              "description": "Slug of the yuk that you want to unlike",
              "type": "string"
            }
          ],
          "responses": {
            "200": {
              "description": "OK",
              "schema": {
                "$ref": "#/definitions/SingleyukResponse"
              }
            },
            "401": {
              "description": "Unauthorized"
            },
            "422": {
              "description": "Unexpected error",
              "schema": {
                "$ref": "#/definitions/GenericErrorModel"
              }
            }
          }
        }
      },
      "/yuks/{slug}/dislike": {
        "post": {
          "summary": "DisLike an yuk",
          "description": "DisLike an yuk. Auth is required",
          "tags": [
            "DisLikes"
          ],
          "security": [
            {
              "Token": []
            }
          ],
          "operationId": "CreateyukDisLike",
          "parameters": [
            {
              "name": "slug",
              "in": "path",
              "required": true,
              "description": "Slug of the yuk that you want to dislike",
              "type": "string"
            }
          ],
          "responses": {
            "200": {
              "description": "OK",
              "schema": {
                "$ref": "#/definitions/SingleyukResponse"
              }
            },
            "401": {
              "description": "Unauthorized"
            },
            "422": {
              "description": "Unexpected error",
              "schema": {
                "$ref": "#/definitions/GenericErrorModel"
              }
            }
          }
        },
        "delete": {
          "summary": "Undislike an yuk",
          "description": "Undislike an yuk. Auth is required",
          "tags": [
            "DisLikes"
          ],
          "security": [
            {
              "Token": []
            }
          ],
          "operationId": "DeleteyukFavorite",
          "parameters": [
            {
              "name": "slug",
              "in": "path",
              "required": true,
              "description": "Slug of the yuk that you want to undislike",
              "type": "string"
            }
          ],
          "responses": {
            "200": {
              "description": "OK",
              "schema": {
                "$ref": "#/definitions/SingleyukResponse"
              }
            },
            "401": {
              "description": "Unauthorized"
            },
            "422": {
              "description": "Unexpected error",
              "schema": {
                "$ref": "#/definitions/GenericErrorModel"
              }
            }
          }
        }
      },
      "/tags": {
        "get": {
          "summary": "Get tags",
          "description": "Get tags. Auth not required",
          "responses": {
            "200": {
              "description": "OK",
              "schema": {
                "$ref": "#/definitions/TagsResponse"
              }
            },
            "422": {
              "description": "Unexpected error",
              "schema": {
                "$ref": "#/definitions/GenericErrorModel"
              }
            }
          }
        }
      }
    },
    "definitions": {
      "LoginUser": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string"
          },
          "password": {
            "type": "string",
            "format": "password"
          }
        },
        "required": [
          "email",
          "password"
        ]
      },
      "LoginUserRequest": {
        "type": "object",
        "properties": {
          "user": {
            "$ref": "#/definitions/LoginUser"
          }
        },
        "required": [
          "user"
        ]
      },
      "NewUser": {
        "type": "object",
        "properties": {
          "username": {
            "type": "string"
          },
          "email": {
            "type": "string"
          },
          "password": {
            "type": "string",
            "format": "password"
          }
        },
        "required": [
          "username",
          "email",
          "password"
        ]
      },
      "NewUserRequest": {
        "type": "object",
        "properties": {
          "user": {
            "$ref": "#/definitions/NewUser"
          }
        },
        "required": [
          "user"
        ]
      },
      "User": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string"
          },
          "token": {
            "type": "string"
          },
          "username": {
            "type": "string"
          },
          "bio": {
            "type": "string"
          },
          "image": {
            "type": "string"
          }
        },
        "required": [
          "email",
          "token",
          "username",
          "bio",
          "image"
        ]
      },
      "UserResponse": {
        "type": "object",
        "properties": {
          "user": {
            "$ref": "#/definitions/User"
          }
        },
        "required": [
          "user"
        ]
      },
      "UpdateUser": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string"
          },
          "token": {
            "type": "string"
          },
          "username": {
            "type": "string"
          },
          "bio": {
            "type": "string"
          },
          "image": {
            "type": "string"
          }
        }
      },
      "UpdateUserRequest": {
        "type": "object",
        "properties": {
          "user": {
            "$ref": "#/definitions/UpdateUser"
          }
        },
        "required": [
          "user"
        ]
      },
      "ProfileResponse": {
        "type": "object",
        "properties": {
          "profile": {
            "$ref": "#/definitions/Profile"
          }
        },
        "required": [
          "profile"
        ]
      },
      "Profile": {
        "type": "object",
        "properties": {
          "username": {
            "type": "string"
          },
          "bio": {
            "type": "string"
          },
          "image": {
            "type": "string"
          },
          "following": {
            "type": "boolean"
          }
        },
        "required": [
          "username",
          "bio",
          "image",
          "following"
        ]
      },
      "Yuk": {
        "type": "object",
        "properties": {
          "slug": {
            "type": "string"
          },
          "title": {
            "type": "string"
          },
          "content": {
            "type": "string"
          },
          "image": {
            "type": "string"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          },
          "liked": {
            "type": "boolean"
          },
          "disliked": {
            "type": "boolean"
          },
          "likesCount": {
            "type": "integer"
          },
          "dislikesCount": {
            "type": "integer"
          },
          "author": {
            "$ref": "#/definitions/Profile"
          },
          "tagList": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        },
        "required": [
          "slug",
          "title",
          "content",
          "image",
          "createdAt",
          "updatedAt",
          "liked",
          "disliked",
          "likesCount",
          "dislikesCount",
          "author",
          "tagList"

        ]
      },
      "SingleyukResponse": {
        "type": "object",
        "properties": {
          "Yuk": {
            "$ref": "#/definitions/Yuk"
          }
        },
        "required": [
          "yuk"
        ]
      },
      "MultipleyuksResponse": {
        "type": "object",
        "properties": {
          "Yuks": {
            "type": "array",
            "items": {
              "$ref": "#/definitions/Yuk"
            }
          },
          "yuksCount": {
            "type": "integer"
          }
        },
        "required": [
          "yuks",
          "yuksCount"
        ]
      },
      "NewYuk": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string"
          },
          "content": {
            "type": "string"
          },
          "image": {
            "type": "string"
          },
          "tagList": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        },
        "required": [
          "title",
          "content"
        ]
      },
      "NewYukRequest": {
        "type": "object",
        "properties": {
          "Yuk": {
            "$ref": "#/definitions/NewYuk"
          }
        },
        "required": [
          "yuk"
        ]
      },
      "UpdateYuk": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string"
          },
          "content": {
            "type": "string"
          },
          "image": {
            "type": "string"
          },
          "tagList": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "Comment": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          },
          "body": {
            "type": "string"
          },
          "author": {
            "$ref": "#/definitions/Profile"
          }
        },
        "required": [
          "id",
          "createdAt",
          "updatedAt",
          "body",
          "author"
        ]
      },
      "SingleCommentResponse": {
        "type": "object",
        "properties": {
          "comment": {
            "$ref": "#/definitions/Comment"
          }
        },
        "required": [
          "comment"
        ]
      },
      "MultipleCommentsResponse": {
        "type": "object",
        "properties": {
          "comments": {
            "type": "array",
            "items": {
              "$ref": "#/definitions/Comment"
            }
          }
        },
        "required": [
          "comments"
        ]
      },
      "NewComment": {
        "type": "object",
        "properties": {
          "body": {
            "type": "string"
          }
        },
        "required": [
          "body"
        ]
      },
      "NewCommentRequest": {
        "type": "object",
        "properties": {
          "comment": {
            "$ref": "#/definitions/NewComment"
          }
        },
        "required": [
          "comment"
        ]
      },
      "TagsResponse": {
        "type": "object",
        "properties": {
          "tags": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        },
        "required": [
          "tags"
        ]
      },
      "GenericErrorModel": {
        "type": "object",
        "properties": {
          "errors": {
            "type": "object",
            "properties": {
              "body": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              }
            },
            "required": [
              "body"
            ]
          }
        },
        "required": [
          "errors"
        ]
      }
    }
  }